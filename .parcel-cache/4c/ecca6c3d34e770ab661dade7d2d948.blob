"use strict";

require("sanitize.css/sanitize.css");

require("./main.scss");

var _jquery = _interopRequireDefault(require("jquery"));

var _mailcheck = _interopRequireDefault(require("mailcheck"));

var _validate = _interopRequireDefault(require("validate.js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import "flexboxgrid/css/flexboxgrid.min.css";
//
//
(0, _jquery.default)(function () {
  const email = document.querySelector("#email");
  const emailMessage = document.querySelector(".input-group-message");
  const emailField = document.querySelector(".form-group--email");
  const btnDownload = document.querySelector(".btn--download"); //

  let domains = ["me.com", "outlook.com", "netvigator.com", "cloud.com", "live.hk", "msn.com", "gmail.com", "hotmail.com", "ymail.com", "yahoo.com", "yahoo.com.tw", "yahoo.com.hk"];
  var secondLevelDomains = ["hotmail"];
  var topLevelDomains = ["com", "net", "org"];

  var superStringDistance = function (string1, string2) {// a string distance algorithm of your choosing
  };

  email.addEventListener("blur", function () {
    emailMessage.innerText = "";

    _mailcheck.default.run({
      email: email.value,
      suggested: function (suggestion) {
        // callback code
        console.log(suggestion);
        emailMessage.innerHTML = `您要輸入的是 <span class="email-suggestion">${suggestion.full}</span> 嗎？`;
      },
      empty: function () {
        // callback code
        emailMessage.innerText = "請輸入您的電郵地址";
      }
    });
  });
  btnDownload.addEventListener("click", function (event) {
    event.preventDefault;
    document.querySelector('input[name="supporter.emailAddress"]').value = email.value;
    console.log("click");
  });

  const enFormSubmit = function () {
    (0, _jquery.default)(".enform__wrapper form").submit();
  };
});